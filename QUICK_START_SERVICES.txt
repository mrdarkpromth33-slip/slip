â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘     PROMPTPAY PAYMENT SYSTEM - QUICK START GUIDE                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

STATUS: âœ… All files deployed. Ready to start services.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ START SERVICES (CHOOSE ONE):

Option A - Manual SSH (Recommended)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Open terminal
2. Run: ssh root@150.95.84.201
3. At VPS prompt, run:

   sudo pkill -9 postgres
   sleep 2
   sudo systemctl restart docker
   cd /opt/promptpay-system
   docker-compose down -v
   docker-compose up -d
   sleep 5
   docker ps

Wait for "Up" status on all 3 containers


Option B - Automated Script
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
From your local machine:

   chmod +x /workspaces/slip/complete-vps-recovery.sh
   ./complete-vps-recovery.sh

(You'll be prompted for password: Laline1812@)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… VERIFY SERVICES ARE RUNNING:

Expected Container Status:
   slip_api         â†’ Up X seconds (port 8000)
   slip_postgres    â†’ Up X seconds (port 5432)
   slip_pgadmin     â†’ Up X seconds (port 5050)

All three should show "Up" status.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸŒ ACCESS THE SYSTEM:

Once services are "Up":

   API Documentation:     http://150.95.84.201:8000/docs
   Database Manager:      http://150.95.84.201:5050
                         (admin@example.com / admin)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ§ª TEST AN ENDPOINT:

Generate QR Code:
   curl -X POST http://150.95.84.201:8000/api/payment/generate-qr \
     -H "Content-Type: application/json" \
     -d '{"amount": 100}'

Expected: base64-encoded QR image with PromptPay data

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ WHAT'S DEPLOYED:

/opt/promptpay-system/ contains:
   âœ… main.py              (FastAPI app with 5 REST endpoints)
   âœ… models.py            (Database models)
   âœ… qr_reader.py         (QR processing + OCR)
   âœ… payment_service.py   (PromptPay QR generation)
   âœ… schemas.py           (Request/response validation)
   âœ… database.py          (PostgreSQL connection)
   âœ… docker-compose.yml   (Service orchestration)
   âœ… Dockerfile           (Production image)
   âœ… requirements.txt     (Python dependencies)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âŒ COMMON ISSUES & FIXES:

Issue: "Port 5432 already in use"
Fix:   sudo pkill -9 postgres
       sudo systemctl restart docker
       docker-compose up -d

Issue: "Cannot reach API (http://150.95.84.201:8000)"
Fix:   1. Check containers: docker ps
       2. Check logs: docker-compose logs slip_api
       3. Restart: docker-compose restart

Issue: "Database not responding"
Fix:   docker-compose down -v
       docker-compose up -d
       sleep 10
       (DB takes 5-10s to initialize)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š 5 API ENDPOINTS:

1. POST /api/payment/generate-qr           (Generate QR code)
2. POST /api/payment/upload-slip          (Verify payment slip)
3. POST /api/webhook/linebk               (Optional webhook)
4. GET  /api/admin/verifications          (View all verifications)
5. POST /api/admin/verify-payment         (Manual approve/reject)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ” MONITORING:

View real-time logs:
   docker-compose logs -f slip_api

View database:
   docker-compose exec slip_postgres psql -U slip_user -d slip_db

Restart all services:
   docker-compose restart

Stop all services:
   docker-compose down

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ COMPLETE FILE LIST IN /opt/promptpay-system/:

Python Code Files:
   â€¢ main.py (401 lines)
   â€¢ models.py (53 lines)
   â€¢ qr_reader.py (170+ lines)
   â€¢ payment_service.py (144 lines)
   â€¢ schemas.py (84+ lines)
   â€¢ database.py (21 lines)
   â€¢ config.py (15 lines)

Docker & Infrastructure:
   â€¢ docker-compose.yml
   â€¢ Dockerfile
   â€¢ requirements.txt
   â€¢ .env (environment variables)

Documentation (in /workspaces/slip/):
   â€¢ START_SERVICES_NOW.md (this guide)
   â€¢ DEPLOYMENT_STATUS.md (detailed info)
   â€¢ complete-vps-recovery.sh (auto-recovery script)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ RECOMMENDED NEXT STEPS:

1. âœ… Run one of the startup commands above
2. âœ… Wait 10 seconds for full initialization
3. âœ… Check all containers are "Up": docker ps
4. âœ… Visit http://150.95.84.201:8000/docs in browser
5. âœ… Test an endpoint using Swagger UI
6. âœ… Check database at http://150.95.84.201:5050
7. âœ… Review logs: docker-compose logs --tail=50

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ’¡ TIPS:

â€¢ All commands should be run as 'root' on the VPS
â€¢ Use 'docker ps' to verify container status (should show "Up")
â€¢ Use 'docker logs <container>' to debug any issues
â€¢ Database takes 5-10 seconds to initialize after startup
â€¢ Swagger UI at /docs is the best way to test endpoints

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Questions? Check these detailed docs:
   â€¢ START_SERVICES_NOW.md (this file guide)
   â€¢ DEPLOYMENT_STATUS.md (troubleshooting)
   â€¢ API_REFERENCE.md (endpoint documentation)
   â€¢ ARCHITECTURE.md (system design)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Last Updated: 2026-02-22 | Status: Ready to Start | Version: 1.0
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

